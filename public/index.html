<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Food Ordering Game</title>
  <!-- CSS styles -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href = "https://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css">
  <link rel="stylesheet" href="styles/local_style.css">
  <!-- General JavaScript Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore.js" type="text/javascript" defer></script>
  <script src="https://code.jquery.com/jquery-1.12.4.js" defer></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js" defer></script>
  <script src="https://cdn.webrtc-experiment.com/DetectRTC.js" defer></script>
  <!-- Experiment-specific client-side JavaScript -->
  <script type="text/javascript" src="js/browserCheck.js" defer></script>
  <script type="text/javascript" src="js/mmturkey.js" defer></script>
  <script type="text/javascript" src="js/expt_ajax_helpers.js" defer></script>
  <script type="text/javascript" src="js/expt_control_flow_helpers.js" defer></script>
  <script type="text/javascript" src="js/expt_control_flow.js" defer></script>
  <script type="text/javascript" src="js/expt_init.js" defer></script>
</head>

<body>
  <!-- Task Introduction Slide -->
  <div class="slide" id="introduction">
    <h2>Fast food ordering game</h2>
      <p class="block-text">In this game, we're interested in learning
      about how well people followed instructions when they order food. The task should
      only take about 10 minutes. Thank you for participating!
      </p>
      <p class="block-text">To complete this HIT, you will need to use
      either Chrome or Firefox and have working speakers.
      </p>
      <button type="button" id="start_button" onclick="this.blur(); exp.init_task_intro()">
      I am using Chrome or Firefox and ready to begin
      </button>

      <p class="block-text" id="legal">
        We have recently been made aware that your public Amazon.com profile
        can be accessed via your worker ID if you do not choose to opt out.
        If you would like to opt out of this feature, you may follow
        instructions available <a href="https://www.amazon.com/gp/help/customer/display.html?nodeId=16465241"> here.</a>
        If you have any questions or issues with the task, please contact
        <a href="mailto:kyle@apprente.com">kyle@apprente.com</a>.
      </p>
  </div>

  <!-- Task Instructions Slide -->
  <div class="slide" id="instructions">
    <h2>Task Instructions</h2>
      <p class="block-text">In this task, we want you to listen to a series of recordings
      of a person ordering fast food and tell us whether their order <b>matches</b>
      the order that they were supposed to read.
      </p>
      <p class="block-text">For each order, you will see a table indicating
      the order that should have been read. Each box in the table will have a food item,
      the number of that item that should have been ordered,
      a list of addons or takeoffs that should have been included with that item,
      and whether there should have been anything "corrected" in the order.<br><br>
      For example, here is an order table that contains four different items with
      one of them being a correction:
      </p>

      <div><img src="media/example_correction.png" alt="example_order" width="600"></div>
      <audio id="example_audio"></audio>

      <p class="block-text">
      Use the buttons below to listen to examples of a correct and an incorrect recording
      of this order. The <b>correct recording</b> contains all four items, the correct counts for each item,
      a correction for the third item, and no extra items. The <b>incorrect recording</b> does not include the two
      Diet Cokes and it does not include a correction for the three hamburgers.
      </p>

      <table align='center'>
        <tr>
          <td>
            <button type="button" id="correct_example" onclick="this.blur(); play_example_audio('correct')">
            Click to hear a correct recording
            </button>
          </td>
          <td>
            <button type="button" id="incorrect_example" onclick="this.blur(); play_example_audio('incorrect')">
            Click to hear an incorrect recording
            </button>
          </td>
        </tr>
      </table>

      <p class="block-text">
      You will score each order as <font color="green"><b>CORRECT</b></font> or <font color="red"><b>INCORRECT</b></font>.<br>
      If the order was correct, you should press the <font color="green"><b>UP ARROW KEY</b></font>.<br>
      If the order was incorrect, you should press the <font color="red"><b>DOWN ARROW KEY</b></font>.</br>
      </p>

      <button type="button" id="start_ordering" onClick="exp.init_order_slide()">
      Click here to start the game
      </button>
  </div>

  <!-- Order comprehension slide: the workhorse -->
  <div class="slide" id="order_slide">
    <table id="progress_table">
        <tr>
          <td><p>Progress:</p></td>
          <td><div class="progress"></div></td>
          <td>
            <p class="block-text">
              To play the recorded order, press the <b>S key</b>  <br>
              If the order was CORRECT, press the <b>UP ARROW key</b><br>
              If the order was INCORRECT, press the <b>DOWN ARROW key</b><br>
              If the order is "blank" (silent) because of a recording error, press the <b>B key</b>
            </p>
          </td>
        </tr>
    </table>
    <div id="items_table"></div>
    <audio id="trial_audio"></audio>

    <!-- <div id='errors_form'>
      <h4>What type of errors did you detect?</h4>
        <form>
          <label class="checkbox-inline">
            <input type="checkbox" value="">Missing items
          </label>
          <label class="checkbox-inline">
            <input type="checkbox" value="">Added extra items
          </label>
          <label class="checkbox-inline">
            <input type="checkbox" value="">Incorrect use of item counts
          </label>
          <label class="checkbox-inline">
            <input type="checkbox" value="">Incorrect use of a correction
          </label>
          <p class="block-text"> <b>Other:</b>
            <input type="text" id="other_error" name="other_error" size="70"><br>
          </p>
        </form>
    </div> -->

    <div><p id="feedback_text"></p></div>
    <img class="waveform" src="media/waveform.gif" alt="waveform">
  </div>

  <!-- Closing Q&A slide -->
  <div class="slide" id="final_questions">
    <h2>Feedback</h2>
    <p class="block-text"> Please answer the following questions to help us
    improve our task. Thank you! <p>
    <p class="block-text" name="error_types">
      If there were mistakes in the orders, generally what kind of mistakes were made?<br>
      <input type="text" id="error_types" name="error_types" size="70"><br>
      Was there anything broken or that could be improved? <br>
      <input type="text" id="comments" name="comments" size="70"><br>
      What is your age in years? <br>
      <input type="text" id="age" name="age" size="70"><br>
      What is your gender? (m = male, f = female, o = other) <br>
      <input type="text" id="gender" name="gender" size="70"><br>
    </p>
    <button type="button" id="checkFinishedButton" onClick="exp.check_final_slide()">
    Finished: Submit to MTurk</button>
    <div id="checkMessage"></div>
  </div>

<!-- Closing Message Slide -->
  <div class="slide" id="finished">
      <p class="block-text"> You're finished - thanks for participating!
      Submitting to Mechanical Turk...</p>
  </div>

</body>
</html>
